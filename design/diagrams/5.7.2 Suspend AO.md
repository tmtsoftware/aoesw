```plantuml
!pragma teoz true
!include_many participants.puml
!includesub common.puml!variables
hide unlinked

ocs -> aosq ++: SuspendAO

group In parallel

group LGSF
aosq -> lgsf ++: setState(READY)
note left: Set LGSF state to READY
return Completed
end

group NFIRAOS
aosq -> ism ++: stop
note left: Stop ISM stages
aosq -> nscu ++: stop
note left: Stop NSCU mirror stage, close shutter and turn off all lights sources.
aosq -> timing ++: stop
note left: Stop all trigger signals
aosq -> pwfs ++: stop
note left: Stop PWFS exposures
aosq -> bs ++: stop
note left: Stop beam splitter stage
aosq -> trombone ++: stop
note left: Stop LGS trombone
aosq -> nsen ++: BENCH_stop
note left: Stop NSEN optical bench stage
aosq -> ssNgs ++: stop
note left: Stop all SS NGS stages and turn off all NGS simulation sources
aosq -> lgsWfs ++: stop
note left: Stop LGS WFS exposures
aosq -> ssLgs ++: stop
note left: Stop all SS LGS stages and turn off all LGS simulation sources
aosq -> vnwAdc ++: stop
note left: Stop all VNW ADC stages
aosq -> vnwFsm ++: stop
note left: Stop VNW FSM stage
aosq -> vnwSsm ++: stop
note left: Stop all VNW SSM stages 
aosq -> vnwFieldStop ++: stop
note left: Stop VNW Field Stop stage
return Completed
& return
& return
& return
& return
& return
& return
& return
& return
& return
& return
& return
& return
& return
end

group OIWFS
loop For each OIWFS
aosq -> oiwfsDetector ++: exposure
note left: Stop OIWFS continuous readout mode
aosq -> oiwfsAdc ++: datum
note left: Move ADC to datum position
aosq -> oiwfsPoa ++: datum
note left: Move POA to home position
return Completed
& return
& return
end
end

group ODGW
aosq -> odgw ++: exposure
note left: Stop ODGW continuous readout mode
return Completed
end
end
return Completed
```