```plantuml
!pragma teoz true
!include_many participants.puml
!includesub common.puml!variables
hide unlinked

ocs -> aosq ++: AcquireAndLockTTOrTTFAndHOPWFS
aosq -> aosq : Check PWFS flux
opt If PWFS flux not good
!includesub common.puml!SpiralSearch
end
opt If needed
aosq -> vnwSsm ++: nudge
note left: Offset PWFS SSM
return Completed
aosq -> rtc ++: $TBD
note left: Take sky image and calibrate PWFS
return Completed
end
opt If needed
aosq -> vnwFieldStop ++: select
note left: -Adjust PWFS field stop
return Completed
end
opt If guide star not as bright as expected
aosq -> timing ++: enableTrigger
note left: Adjust PWFS frame rate
return Completed
end
aosq -> rtc ++: $TBD
note left: Start PWFS pixel processing
return Completed
aosq -> rtc ++: loopPwfsDither
note left: Start optical gain estimation
return Completed
aosq -> rtc ++: loopLowTier0
note left: Close tip/tilt/focus loop
return Completed

aosq -> rtc ++: offloadPwfsSsm?
note left: -Start pupil centering offload process
return Completed

return Completed
```