```plantuml

!pragma teoz true
!include_many participants.puml
!includesub common.puml!variables
hide unlinked

ocs -> aosq ++: ExerciseRtcWithNcpaAndSimulatedTurbulence
alt LGS
!includesub common.puml!ActivateLGS
aosq -> trombone ++: move
note left: Set LGS trombone to zenith
return Completed
else NGS
!includesub common.puml!ActivateNGS
end

!includesub common.puml!NSCUBB
aosq -> ssNgs ++: deploy
note left: Deploy FPM
return Completed
aosq -> pwfs ++: startContinuousExposures
note left: Enable PWFS continuous exposures
return Completed
aosq -> lgsWfs ++: startContinuousExposures
note left: Enable LGS WFS continuous exposures
return Completed
aosq -> oiwfsDetector ++: exposure
note left: OIWFS in continuous exposure mode
return Completed
aosq -> rtc ++: mode
note left: Setup RTC in LGS or NGS AO mode
return Completed
aosq -> rpg ++: configure
note left: Setup RPG in LGS or NGS AO mode
return Completed
aosq -> rpg ++: prepareRTC
note left: RPG to load LGS WFS and PWFS offsets and DM flats and send to RTC
return Completed
aosq -> rpg ++: prepareHighReconstructor
note left: RPG to compete control matrix and send to RTC
return Completed
!includesub common.puml!AcquireLGS
!includesub common.puml!AcquirePWFS
!includesub common.puml!AcquireTtfWFS
aosq -> rtc ++: pipelineActivate
note left: RTC to process pixels and close AO loops
return Completed
loop Repeat with each instrument and selected operation modes

note across: See separate diagram with calibration loop details
end
return Completed
```