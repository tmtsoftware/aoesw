```plantuml
!pragma teoz true
!include_many participants.puml
!includesub common.puml!variables
hide unlinked

ocs -> aosq ++: prepareClosedLoopDither

aosq -> rtc ++: algoSetPwfs
note left: Set PWFS gradient processing algorithm to CoG
return Completed
loop For all applicable OIWFS
aosq -> rtc ++: algoSetOiwfsOdgw
note left: Set OIWFS gradient processing algorithm to CoG
return Completed
end
loop For all applicable ODGW
aosq -> rtc ++: algoSetOiwfsOdgw
note left: Set ODGW gradient processing algorithm to CoG
return Completed
end

loop For all applicable ODGW
aosq -> odgw ++: table_jump
note left: Go to full frame mode
return Completed
end

group In parallel, for each applicable OIWFS
aosq -> oiwfsPoa ++: POS_trackingType
note left: Set POA tracking mode to DITHER
return Completed

end
return Completed

ocs -> tcs ++: dither
note left: Move telescope
return Completed

ocs -> aosq ++: endClosedLoopDither
group In parallel, for each applicable OIWFS
aosq -> oiwfsPoa ++: POS_trackingType
note left: Set POA tracking mode to TRACK
return Completed
end

aosq -> rtc ++: algoSetPwfs
note left: Set PWFS gradient processing algorithm back to MF
return Completed
loop For all applicable OIWFS
aosq -> rtc ++: algoSetOiwfsOdgw
note left: Set OIWFS gradient processing algorithm back to MF
return Completed
end
loop For all applicable ODGW
aosq -> rtc ++: algoSetOiwfsOdgw
note left: Set ODGW gradient processing algorithm back to MF
return Completed
end

return Completed

```
